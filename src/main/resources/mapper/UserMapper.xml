<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.waynechu.mmall.mapper.UserMapper">
    <insert id="insertUser">
        insert into t_user (username, password_hash, password_salt, password_algo, password_iteration)
        values (#{username}, #{passwordHash}, #{passwordSalt}, #{passwordAlgo}, #{passwordIteration})
    </insert>
    <select id="getByUsername" resultType="cn.waynechu.mmall.entity.User">
        select
            id,
            username,
            password_hash,
            password_salt,
            password_algo,
            password_iteration,
            email,
            phone,
            question,
            answer,
            create_time,
            update_time
        from t_user
        where username = #{userName}
    </select>
    <select id="getUserByUserId" resultType="cn.waynechu.mmall.entity.User">
        select
            id,
            username,
            password_hash,
            password_salt,
            password_algo,
            password_iteration,
            email,
            phone,
            question,
            answer,
            create_time,
            update_time
        from t_user
        where id = #{userId}
    </select>
</mapper>